{
  "_args": [
    [
      {
        "name": "ios-mobileprovision-finder",
        "raw": "ios-mobileprovision-finder@https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
        "rawSpec": "https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
        "scope": null,
        "spec": "https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
        "type": "remote"
      },
      "/Users/michael/Workspace/govhack_resprisk/air-buster/node_modules/nativescript"
    ]
  ],
  "_from": "ios-mobileprovision-finder@https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
  "_id": "ios-mobileprovision-finder@1.0.9",
  "_inCache": true,
  "_location": "/nativescript/ios-mobileprovision-finder",
  "_phantomChildren": {
    "ansi-styles": "2.2.1",
    "base64-js": "1.2.0",
    "camelcase": "3.0.0",
    "cliui": "3.2.0",
    "decamelize": "1.2.0",
    "escape-string-regexp": "1.0.5",
    "get-caller-file": "1.0.2",
    "has-ansi": "2.0.0",
    "os-locale": "1.4.0",
    "read-pkg-up": "1.0.1",
    "require-directory": "2.1.1",
    "require-main-filename": "1.0.1",
    "set-blocking": "2.0.0",
    "string-width": "1.0.2",
    "strip-ansi": "3.0.1",
    "supports-color": "2.0.0",
    "which-module": "1.0.0",
    "xmlbuilder": "8.2.2",
    "xmldom": "0.1.21",
    "y18n": "3.2.1",
    "yargs-parser": "4.2.1"
  },
  "_requested": {
    "name": "ios-mobileprovision-finder",
    "raw": "ios-mobileprovision-finder@https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
    "rawSpec": "https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
    "scope": null,
    "spec": "https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
    "type": "remote"
  },
  "_requiredBy": [
    "/nativescript"
  ],
  "_resolved": "https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
  "_shasum": "1dcf34cb029e3fea0c852926bbbf4ae864ecc0a7",
  "_shrinkwrap": null,
  "_spec": "ios-mobileprovision-finder@https://registry.npmjs.org/ios-mobileprovision-finder/-/ios-mobileprovision-finder-1.0.9.tgz",
  "_where": "/Users/michael/Workspace/govhack_resprisk/air-buster/node_modules/nativescript",
  "author": "",
  "bin": {
    "ios-mobileprovision-finder": "./ios-mobileprovision-finder.js"
  },
  "bugs": {
    "url": "https://github.com/NativeScript/ios-mobileprovision-finder/issues"
  },
  "dependencies": {
    "chalk": "^1.1.3",
    "plist": "^2.0.1",
    "yargs": "^6.5.0"
  },
  "description": "API to find an iOS mobile provision",
  "devDependencies": {
    "@types/chai": "^3.4.34",
    "@types/chai-spies": "0.0.0",
    "@types/chalk": "^0.4.31",
    "@types/mocha": "^2.2.33",
    "@types/node": "0.0.2",
    "@types/yargs": "^6.3.3",
    "chai": "^3.5.0",
    "chai-spies": "^0.7.1",
    "mocha": "^3.2.0",
    "mocha-typescript": "^1.0.11",
    "pegjs": "^0.10.0",
    "typescript": "^2.0.10"
  },
  "homepage": "https://github.com/NativeScript/ios-mobileprovision-finder#readme",
  "license": "Apache-2.0",
  "main": "index.js",
  "name": "ios-mobileprovision-finder",
  "optionalDependencies": {},
  "readme": "API to find an iOS mobile provision\n\n[![Build Status](https://travis-ci.org/NativeScript/ios-mobileprovision-finder.svg?branch=master)](https://travis-ci.org/NativeScript/ios-mobileprovision-finder)\n\n## Using as command line tool\n```\nUsage: ios-mobileprovision-finder -u [device uuid] -i [app bundle id]\n\nOptions:\n  -h, --help      Show help                                            [boolean]\n  -u, --uuid      Provide one or more device UUIDs the searched provisioning\n                  profile should be able to deploy to.                   [array]\n  -i, --app-id    Provide application bundle identifier the searched\n                  provisioning profile should match.                    [string]\n  -e, --eligable  Prints only eligable profiles       [boolean] [default: false]\n  -t, --team      Provide team name the provisioning profile should belong to.\n                                                                        [string]\n  -p, --type      'development', 'distribution', 'adhoc' or 'all'; - specify the\n                  provisioning profile type.   [string] [default: \"development\"]\n```\n\nExample:\n```\nmcsofcankov:ios-mobileprovision-finder cankov$ ios-mobileprovision-finder -e -i org.nativescript.examples -t 'Telerik A D'\neligable:\n - 'iOS Team Provisioning Profile: *' Telerik A D (exp: 5 Nov 2017) 16455071-eb38-4ebc-9a79-0ef50f76307a id: CHSQ3M3P37.* Development\n - 'NativeScriptWildCard' Telerik A D (exp: 2 Nov 2017) 3aa58a65-f8da-4c67-bce8-ff9624822e31 id: CHSQ3M3P37.* Development\n - 'iOS Team Provisioning Profile: org.nativescript.examples' Telerik A D (exp: 5 Nov 2017) f79232c0-b3b3-4b9d-be8e-f4f398cead88 id: CHSQ3M3P37.org.nativescript.examples Development\n```\n\n## JavaScript API\nRead the public API from index.d.ts and the ios-mobileprovision-finder.ts command line tool for example.\n\n``` TypeScript\nimport { provision, cert } from \"./index\";\n\nconst certificates = cert.read();\nconst provisionProfiles = provision.read();\nconst result = provision.select(provisionProfiles, {\n    AppId: \"org.nativescript.examples\",\n    TeamName: \"Telerik AD\",\n    Certificates: certificates.valid\n});\nresult.eligable.forEach(({Name, UUID}) => {\n    console.log(` - ${Name} ${UUID}`);\n});\n```\n\n## Under the hood\n### Provisioning profiles\nRead all files in Library/MobileDevice/Provisioning Profiles/ and scan for the plist containing provisioning profile information.\nParse the plist and keep the data.\n\n### Certificates\nList all the valid certificates in the default keychain search list using:\n```\nsecurity find-identity -p codesigning\n```\nIt yelds output such as:\n```\n  1) FAE6210D184FCC1707B87F1C582280A286898EE3 \"iPhone Distribution: Telerik A D (CHSQ3M3P37)\"\n  2) 89936062DD52C7FEF2273E677AC98D109F198A84 \"iPhone Developer: Panayot Cankov (3KZR3BE4ZD)\" (CSSMERR_TP_CERT_REVOKED)\n  3) 0F0077D3EBEA9D0AB6668B8BCB90152ACE7BA4E9 \"iPhone Developer: Panayot Cankov (TT4M4FMX2A)\" (CSSMERR_TP_CERT_REVOKED)\n  4) 07AB20E16C86E2B548A91920B83EC27D78AFC7EB \"iPhone Developer: Panayot Cankov (3KZR3BE4ZD)\"\n  5) 9354FAEF631DC3E9B07929F20991829FF5E21C36 \"iPhone Developer: Panayot Cankov (TT4M4FMX2A)\"\n  6) 9D591A6ADAF9C99A9C19FC1A8EE7FA153C613441 \"iPhone Distribution: Telerik AD\"\n```\nThat is then parsed and the PEMs are retrieved using:\n```\nsecurity find-certificate -apZ\n```\n\nThis prints the certificate SHAs, match ths SHA with the valid certs from the previous step, along PEMs.\nThe PEMs and cert names are combined and later certificates can be matched with the certificates in the provisioning profiles.\n\nThis relies on the cert hashes.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/NativeScript/ios-mobileprovision-finder.git"
  },
  "scripts": {
    "prepublish": "tsc && pegjs parsers/security-find-identity.pegjs && pegjs parsers/security-find-certificate.pegjs",
    "test": "tsc && mocha",
    "watch": "mocha-typescript-watch"
  },
  "version": "1.0.9"
}
